{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"","title":"Home"},{"location":"git/create-empty-branch-on-github/","text":"Create empty branch on GitHub \u00b6 Create empty branches with no prior history. git switch --orphan <new branch> git commit --allow-empty -m \"Initial commit on orphan branch\" git push -u origin <new branch>","title":"Create empty branch on GitHub"},{"location":"git/create-empty-branch-on-github/#create-empty-branch-on-github","text":"Create empty branches with no prior history. git switch --orphan <new branch> git commit --allow-empty -m \"Initial commit on orphan branch\" git push -u origin <new branch>","title":"Create empty branch on GitHub"},{"location":"github-actions/how-to-deploy-mkdocs-gh-pages/","text":"How to deploy MkDocs to GitHub Pages \u00b6 I'm using Obsidian + MkDocs + GitHub to make my notes public. Getting started \u00b6 Create a new github repository Clone the repository into your Obsidian folder/vault. Create mkdocs bash cd repo-name mkdocs new . Create or move your notes you would like to make public to the repo-name/docs Create an empty branch on your GitHub repository On your GitHub reposito, go to Settings > Pages and select the select the Source as your gh-pages branch. INFO - Copying '/home/runner/work/til/til/site' to 'gh-pages' branch and pushing to GitHub. remote: Permission to dalekurt/til.git denied to github-actions[bot]. ![[github-workflow-permissions.png]]","title":"How to deploy MkDocs to GitHub Pages"},{"location":"github-actions/how-to-deploy-mkdocs-gh-pages/#how-to-deploy-mkdocs-to-github-pages","text":"I'm using Obsidian + MkDocs + GitHub to make my notes public.","title":"How to deploy MkDocs to GitHub Pages"},{"location":"github-actions/how-to-deploy-mkdocs-gh-pages/#getting-started","text":"Create a new github repository Clone the repository into your Obsidian folder/vault. Create mkdocs bash cd repo-name mkdocs new . Create or move your notes you would like to make public to the repo-name/docs Create an empty branch on your GitHub repository On your GitHub reposito, go to Settings > Pages and select the select the Source as your gh-pages branch. INFO - Copying '/home/runner/work/til/til/site' to 'gh-pages' branch and pushing to GitHub. remote: Permission to dalekurt/til.git denied to github-actions[bot]. ![[github-workflow-permissions.png]]","title":"Getting started"},{"location":"go/resources/","text":"Resources \u00b6 Tutorial: Developing a RESTful API with Go and Gin Building a REST API with Golang using Gin and Gorm https://www.twilio.com/blog/build-restful-api-using-golang-and-gin https://dev.to/hackmamba/build-a-rest-api-with-golang-and-mongodb-gin-gonic-version-269m https://devcrazy.medium.com/golang-gin-jwt-mogo-mongodb-orm-golang-authentication-example-52c3c1189488","title":"Resources"},{"location":"go/resources/#resources","text":"Tutorial: Developing a RESTful API with Go and Gin Building a REST API with Golang using Gin and Gorm https://www.twilio.com/blog/build-restful-api-using-golang-and-gin https://dev.to/hackmamba/build-a-rest-api-with-golang-and-mongodb-gin-gonic-version-269m https://devcrazy.medium.com/golang-gin-jwt-mogo-mongodb-orm-golang-authentication-example-52c3c1189488","title":"Resources"},{"location":"kubernetes/delete-pods-in-the-terminating-state/","text":"Delete Pods in the 'Terminating' State \u00b6 For Pods on Kubernetes stubbornly stuck in the state of \u2018Terminating\u2019. If we want to fix this, we have to use some force. The command given below always helps me, it removes it almost immediately. kubectl delete pods <POD NAME> -n <NAMESPACE> --grace-period = 0 --force","title":"Delete Pods in the 'Terminating' State"},{"location":"kubernetes/delete-pods-in-the-terminating-state/#delete-pods-in-the-terminating-state","text":"For Pods on Kubernetes stubbornly stuck in the state of \u2018Terminating\u2019. If we want to fix this, we have to use some force. The command given below always helps me, it removes it almost immediately. kubectl delete pods <POD NAME> -n <NAMESPACE> --grace-period = 0 --force","title":"Delete Pods in the 'Terminating' State"},{"location":"kubernetes/get-pods-on-node/","text":"Get Pods on Node \u00b6 To get Pods running on a specific Node in the default Namespace for the current context: $ kubectl get pods --field-selector spec.nodeName = <_node_name_> $ kubectl get pods --field-selector spec.nodeName = <_node_name_> -o wide To list all Pods running on a specific Node in the all Namespaces: $ kubectl get pods --field-selector spec.nodeName = <_node_name_> --all-namespaces $ kubectl get pods --field-selector spec.nodeName = <_node_name_> --all-namespaces -o wide","title":"Get Pods on Node"},{"location":"kubernetes/get-pods-on-node/#get-pods-on-node","text":"To get Pods running on a specific Node in the default Namespace for the current context: $ kubectl get pods --field-selector spec.nodeName = <_node_name_> $ kubectl get pods --field-selector spec.nodeName = <_node_name_> -o wide To list all Pods running on a specific Node in the all Namespaces: $ kubectl get pods --field-selector spec.nodeName = <_node_name_> --all-namespaces $ kubectl get pods --field-selector spec.nodeName = <_node_name_> --all-namespaces -o wide","title":"Get Pods on Node"},{"location":"kubernetes/remove-a-kubernetes-node/","text":"Remove a Kubernetes Node \u00b6 This topic describes how to remove NotReady nodes from a Kubernetes cluster. Precautions \u00b6 When you remove a node, the pods that run on the node are migrated to other nodes. This may cause service interruptions. We recommend that you remove nodes during off-peak hours. Unknown errors may occur when you remove nodes. Before you remove nodes, back up the data on the nodes. Nodes remain in the Unschedulable state when they are being removed. You can remove only worker nodes. You cannot remove master nodes. Symptoms \u00b6 After updating the hostname on four virtual machines which are apart of the Kubernetes cluster they resulted in a NotReady state $ kubectl get nodes NAME STATUS ROLES AGE VERSION master-0 NotReady,SchedulingDisabled control-plane,etcd,master 44m v1.24.8+k3s1 master-0.int.lunarops.net Ready control-plane,etcd,master 17m v1.24.8+k3s1 worker-0 NotReady <none> 42m v1.24.8+k3s1 worker-0.int.lunarops.net Ready <none> 17m v1.24.8+k3s1 worker-1 NotReady <none> 42m v1.24.8+k3s1 worker-1.int.lunarops.net Ready <none> 17m v1.24.8+k3s1 worker-2 NotReady <none> 42m v1.24.8+k3s1 worker-2.int.lunarops.net Ready <none> 17m v1.24.8+k3s1 worker-3.int.lunarops.net Ready <none> 42m v1.24.8+k3s1 worker-4.int.lunarops.net Ready <none> 42m v1.24.8+k3s1 worker-5.int.lunarops.net Ready <none> 42m v1.24.8+k3s1 worker-6.int.lunarops.net Ready <none> 42m v1.24.8+k3s1 Resolving the problem \u00b6 Mark the Node as unschedulable to prevent new pods from being assigned to it: kubectl cordone <node name> Next, tell Kubernetes to drain the node: kubectl drain --ignore-daemonsets --force <node name> Remove the Kubernetes Node: kubectl delete node <node_ID> For the master node, I had to terminate a few pods kubectl get pods -o wide -n kube-system NAME READY STATUS RESTARTS AGE IP NODE NOMINATED NODE READINESS GATES coredns-7b5bbc6644-9mvfr 1 /1 Running 0 69m 10 .42.43.3 worker-0.int.lunarops.net <none> <none> coredns-7b5bbc6644-tv4n4 1 /1 Terminating 0 102m 10 .42.36.65 master-0 <none> <none> kube-vip-7r4rv 1 /1 Running 1 ( 32m ago ) 75m 172 .16.30.10 master-0.int.lunarops.net <none> <none> kube-vip-sjxbt 1 /1 Terminating 1 ( 101m ago ) 102m 172 .16.30.10 master-0 <none> <none> local-path-provisioner-687d6d7765-2bc26 1 /1 Running 8 ( 54m ago ) 69m 10 .42.133.195 worker-2.int.lunarops.net <none> <none> local-path-provisioner-687d6d7765-tpx96 1 /1 Terminating 0 102m 10 .42.36.66 master-0 <none> <none>","title":"How to remove nodes"},{"location":"kubernetes/remove-a-kubernetes-node/#remove-a-kubernetes-node","text":"This topic describes how to remove NotReady nodes from a Kubernetes cluster.","title":"Remove a Kubernetes Node"},{"location":"kubernetes/remove-a-kubernetes-node/#precautions","text":"When you remove a node, the pods that run on the node are migrated to other nodes. This may cause service interruptions. We recommend that you remove nodes during off-peak hours. Unknown errors may occur when you remove nodes. Before you remove nodes, back up the data on the nodes. Nodes remain in the Unschedulable state when they are being removed. You can remove only worker nodes. You cannot remove master nodes.","title":"Precautions"},{"location":"kubernetes/remove-a-kubernetes-node/#symptoms","text":"After updating the hostname on four virtual machines which are apart of the Kubernetes cluster they resulted in a NotReady state $ kubectl get nodes NAME STATUS ROLES AGE VERSION master-0 NotReady,SchedulingDisabled control-plane,etcd,master 44m v1.24.8+k3s1 master-0.int.lunarops.net Ready control-plane,etcd,master 17m v1.24.8+k3s1 worker-0 NotReady <none> 42m v1.24.8+k3s1 worker-0.int.lunarops.net Ready <none> 17m v1.24.8+k3s1 worker-1 NotReady <none> 42m v1.24.8+k3s1 worker-1.int.lunarops.net Ready <none> 17m v1.24.8+k3s1 worker-2 NotReady <none> 42m v1.24.8+k3s1 worker-2.int.lunarops.net Ready <none> 17m v1.24.8+k3s1 worker-3.int.lunarops.net Ready <none> 42m v1.24.8+k3s1 worker-4.int.lunarops.net Ready <none> 42m v1.24.8+k3s1 worker-5.int.lunarops.net Ready <none> 42m v1.24.8+k3s1 worker-6.int.lunarops.net Ready <none> 42m v1.24.8+k3s1","title":"Symptoms"},{"location":"kubernetes/remove-a-kubernetes-node/#resolving-the-problem","text":"Mark the Node as unschedulable to prevent new pods from being assigned to it: kubectl cordone <node name> Next, tell Kubernetes to drain the node: kubectl drain --ignore-daemonsets --force <node name> Remove the Kubernetes Node: kubectl delete node <node_ID> For the master node, I had to terminate a few pods kubectl get pods -o wide -n kube-system NAME READY STATUS RESTARTS AGE IP NODE NOMINATED NODE READINESS GATES coredns-7b5bbc6644-9mvfr 1 /1 Running 0 69m 10 .42.43.3 worker-0.int.lunarops.net <none> <none> coredns-7b5bbc6644-tv4n4 1 /1 Terminating 0 102m 10 .42.36.65 master-0 <none> <none> kube-vip-7r4rv 1 /1 Running 1 ( 32m ago ) 75m 172 .16.30.10 master-0.int.lunarops.net <none> <none> kube-vip-sjxbt 1 /1 Terminating 1 ( 101m ago ) 102m 172 .16.30.10 master-0 <none> <none> local-path-provisioner-687d6d7765-2bc26 1 /1 Running 8 ( 54m ago ) 69m 10 .42.133.195 worker-2.int.lunarops.net <none> <none> local-path-provisioner-687d6d7765-tpx96 1 /1 Terminating 0 102m 10 .42.36.66 master-0 <none> <none>","title":"Resolving the problem"},{"location":"linux/update-hostname/","text":"Update hostname \u00b6 Update hostname sudo hostnamectl set-hostname <HOSTNAME> Edit the /etc/cloud/cloud.cfg file sudo vim /etc/cloud/cloud.cfg Search for preserve_hostname and change the value from false to true: # This will cause the set+update hostname module to not operate (if true) preserve_hostname: true To verify that the hostname was successfully changed, once again use the hostnamectl command: hostnamectl Then reboot","title":"Update hostname"},{"location":"linux/update-hostname/#update-hostname","text":"Update hostname sudo hostnamectl set-hostname <HOSTNAME> Edit the /etc/cloud/cloud.cfg file sudo vim /etc/cloud/cloud.cfg Search for preserve_hostname and change the value from false to true: # This will cause the set+update hostname module to not operate (if true) preserve_hostname: true To verify that the hostname was successfully changed, once again use the hostnamectl command: hostnamectl Then reboot","title":"Update hostname"},{"location":"networking/network-isolation-on-unifi/","text":"Network Isolation on Ubiquiti UniFi \u00b6 These instructutions were done on the UDM pro running UniFi OS UDM Pro 2.4.27 with Unifi Network application 7.2.97 Why \u00b6 What is Internet of Things? \u00b6 The Internet of Things (IoT) describes the network of physical objects\u2014\u201cthings\u201d\u2014that are embedded with sensors, software, and other technologies for the purpose of connecting and exchanging data with other devices and systems over the internet. Use Case You want to be able to use your mobile app to adjust the lights in your smart home, but you want to prevent your light bulb or any other IoT device to access other devices on the network. Any device on the Trusted Network will bea ble to connect o any device on the IoT However, devices on the IoT network can only respond to traffic sent from the Trusted Network , and can't initiate traffic to devices on the Trusted Network . Create a Networks \u00b6 Create the Default (Management) network \u00b6 In the Classic UI: UniFi OS --> Network --> Settings --> Networks --> Edit Default Name: Default VLAN: 20 * Gateway IP/Subnet: 172.16.3.1/24 * Click UPDATE DHCP RANGE IGMP Snooping: Enable, by checking the box mDns: Enable, by checking the box Create the Guest network \u00b6 Create the Homelab network \u00b6 Create the IoT network \u00b6 Create Wireless Networks \u00b6 Create the Default network \u00b6 In the Classic UI: UniFi OS --> Network --> Settings --> Wireless Networks --> + CREATE NEW NETWORK Name: MURRAY Security: WPA Personal Security Key: SomeRandomString (use something else obviously) Network: Guest (the one we created above) Advance Options Wifi Band: Select Both Create the Guest network \u00b6 In the Classic UI: UniFi OS --> Network --> Settings --> Wireless Networks --> + CREATE NEW NETWORK Name: MURRAY-Guest Security: WPA Personal Security Key: SomeRandomString (use something else obviously) Network: Guest (the one we created above) Advance Options Wifi Band: Select 2.4 GHz Create the IoT network \u00b6 In the Classic UI: UniFi OS --> Network --> Settings --> Wireless Networks --> + CREATE NEW NETWORK Name: MURRAY-IOT Security: WPA Personal Security Key: SomeRandomString (use something else obviously) Network: IoT (the one we created above) Advance Options Wifi Band: Select 2.4 GHz Hide SSID: Check Prevent this SSID from being broadcast Configure Firewall \u00b6 Create Groups \u00b6 Address \u00b6 UniFi OS --> Network --> Settings --> Routeing & Firewall --> Firewall --> Groups --> + CREATE NEW GROUP Name Address Trusted Network (Management) 172.16.3.0/24 Trusted Private Networks (All Private) 10.0.0.0/8, 192.168.0.0/16, 172.16.0.0/12 All Gateways IoT Network Port \u00b6 UniFi OS --> Network --> Settings --> Routeing & Firewall --> Firewall --> Groups --> + CREATE NEW GROUP Name Ports / Range Protocol Apple HomeKit 51826-51827 TCP Apple AirPlay 554 TCP/UDP Apple AirPlay 3689 TCP Apple AirPlay 49159 UDP Apple AirPlay 49163 UDP Philips Hue 80, 53, 433, 123, 1900 mDNS 5353 UDP HomeAssistant 8123 TCP NTP 123 NFS 2049 HTTP and HTTPS All UDM Pro Access Ports 80, 443, 22","title":"Network Isolation on UniFi UDM Pro"},{"location":"networking/network-isolation-on-unifi/#network-isolation-on-ubiquiti-unifi","text":"These instructutions were done on the UDM pro running UniFi OS UDM Pro 2.4.27 with Unifi Network application 7.2.97","title":"Network Isolation on Ubiquiti UniFi"},{"location":"networking/network-isolation-on-unifi/#why","text":"","title":"Why"},{"location":"networking/network-isolation-on-unifi/#what-is-internet-of-things","text":"The Internet of Things (IoT) describes the network of physical objects\u2014\u201cthings\u201d\u2014that are embedded with sensors, software, and other technologies for the purpose of connecting and exchanging data with other devices and systems over the internet. Use Case You want to be able to use your mobile app to adjust the lights in your smart home, but you want to prevent your light bulb or any other IoT device to access other devices on the network. Any device on the Trusted Network will bea ble to connect o any device on the IoT However, devices on the IoT network can only respond to traffic sent from the Trusted Network , and can't initiate traffic to devices on the Trusted Network .","title":"What is Internet of Things?"},{"location":"networking/network-isolation-on-unifi/#create-a-networks","text":"","title":"Create a Networks"},{"location":"networking/network-isolation-on-unifi/#create-the-default-management-network","text":"In the Classic UI: UniFi OS --> Network --> Settings --> Networks --> Edit Default Name: Default VLAN: 20 * Gateway IP/Subnet: 172.16.3.1/24 * Click UPDATE DHCP RANGE IGMP Snooping: Enable, by checking the box mDns: Enable, by checking the box","title":"Create the Default (Management) network"},{"location":"networking/network-isolation-on-unifi/#create-the-guest-network","text":"","title":"Create the Guest network"},{"location":"networking/network-isolation-on-unifi/#create-the-homelab-network","text":"","title":"Create the Homelab network"},{"location":"networking/network-isolation-on-unifi/#create-the-iot-network","text":"","title":"Create the IoT network"},{"location":"networking/network-isolation-on-unifi/#create-wireless-networks","text":"","title":"Create Wireless Networks"},{"location":"networking/network-isolation-on-unifi/#create-the-default-network","text":"In the Classic UI: UniFi OS --> Network --> Settings --> Wireless Networks --> + CREATE NEW NETWORK Name: MURRAY Security: WPA Personal Security Key: SomeRandomString (use something else obviously) Network: Guest (the one we created above) Advance Options Wifi Band: Select Both","title":"Create the Default network"},{"location":"networking/network-isolation-on-unifi/#create-the-guest-network_1","text":"In the Classic UI: UniFi OS --> Network --> Settings --> Wireless Networks --> + CREATE NEW NETWORK Name: MURRAY-Guest Security: WPA Personal Security Key: SomeRandomString (use something else obviously) Network: Guest (the one we created above) Advance Options Wifi Band: Select 2.4 GHz","title":"Create the Guest network"},{"location":"networking/network-isolation-on-unifi/#create-the-iot-network_1","text":"In the Classic UI: UniFi OS --> Network --> Settings --> Wireless Networks --> + CREATE NEW NETWORK Name: MURRAY-IOT Security: WPA Personal Security Key: SomeRandomString (use something else obviously) Network: IoT (the one we created above) Advance Options Wifi Band: Select 2.4 GHz Hide SSID: Check Prevent this SSID from being broadcast","title":"Create the IoT network"},{"location":"networking/network-isolation-on-unifi/#configure-firewall","text":"","title":"Configure Firewall"},{"location":"networking/network-isolation-on-unifi/#create-groups","text":"","title":"Create Groups"},{"location":"networking/network-isolation-on-unifi/#address","text":"UniFi OS --> Network --> Settings --> Routeing & Firewall --> Firewall --> Groups --> + CREATE NEW GROUP Name Address Trusted Network (Management) 172.16.3.0/24 Trusted Private Networks (All Private) 10.0.0.0/8, 192.168.0.0/16, 172.16.0.0/12 All Gateways IoT Network","title":"Address"},{"location":"networking/network-isolation-on-unifi/#port","text":"UniFi OS --> Network --> Settings --> Routeing & Firewall --> Firewall --> Groups --> + CREATE NEW GROUP Name Ports / Range Protocol Apple HomeKit 51826-51827 TCP Apple AirPlay 554 TCP/UDP Apple AirPlay 3689 TCP Apple AirPlay 49159 UDP Apple AirPlay 49163 UDP Philips Hue 80, 53, 433, 123, 1900 mDNS 5353 UDP HomeAssistant 8123 TCP NTP 123 NFS 2049 HTTP and HTTPS All UDM Pro Access Ports 80, 443, 22","title":"Port"},{"location":"python/poetry/","text":"Poetry Cheatsheet \u00b6 Basic usage \u00b6 New Project \u00b6 poetry new <project name> --name app Existing project \u00b6 poetry init Add dependency \u00b6 poetry add <package name> Activate environment \u00b6 This creates a subshell, so when you exit the subshell no changes are persisted. poetry shell","title":"Poetry Cheatsheet"},{"location":"python/poetry/#poetry-cheatsheet","text":"","title":"Poetry Cheatsheet"},{"location":"python/poetry/#basic-usage","text":"","title":"Basic usage"},{"location":"python/poetry/#new-project","text":"poetry new <project name> --name app","title":"New Project"},{"location":"python/poetry/#existing-project","text":"poetry init","title":"Existing project"},{"location":"python/poetry/#add-dependency","text":"poetry add <package name>","title":"Add dependency"},{"location":"python/poetry/#activate-environment","text":"This creates a subshell, so when you exit the subshell no changes are persisted. poetry shell","title":"Activate environment"},{"location":"python/resources/","text":"Resources \u00b6","title":"Resources"},{"location":"python/resources/#resources","text":"","title":"Resources"},{"location":"terraform/target-a-specific-resource/","text":"Target a Specfic Resource \u00b6","title":"Target a specific resource"},{"location":"terraform/target-a-specific-resource/#target-a-specfic-resource","text":"","title":"Target a Specfic Resource"}]}